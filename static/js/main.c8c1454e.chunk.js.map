{"version":3,"sources":["components/CatCard.js","components/CatCardList.js","store/cats.js","store/likes.js","page/AllCatsPage.js","components/CatHeader.js","page/FavoriteCatsPage.js","App.js","store/index.js","index.js"],"names":["CatCard","props","toggleActiveClass","isLike","className","src","elem","url","alt","onClick","onFavorite","id","join","width","height","viewBox","fill","xmlns","d","CatCardList","console","log","likeIds","catImages","map","has","cats","createSlice","name","initialState","images","reducers","setImages","state","action","payload","selectors","likes","catLikes","like","catId","dislike","toggle","current","Object","keys","reduce","acc","concat","AllCatsPage","dispatch","useDispatch","useSelector","catSelectors","likeSelectors","React","useEffect","length","axios","defaults","headers","common","get","then","res","actions","data","onCatClick","useCallback","Set","CatHeader","to","activeClassName","exact","FavoriteCatsPage","likeElem","onDislike","likeIdsSet","likedImages","useMemo","filter","App","basename","path","component","store","configureStore","reducer","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c8c1454e.chunk.js","sourcesContent":["import React from \"react\";\nimport \"../styles/components/cat_card.scss\"\n\nexport const CatCard = function CatCard(props) {\n\n  const toggleActiveClass = props.isLike ? \"card__favorite__active\" : \"\";\n\n  return (\n    <div className=\"card__box card__box__active\">\n      <img className=\"card__item\" src={props.elem.url} alt=\"\" />\n\n      <div className=\"card__favorite\" onClick={() => props.onFavorite(props.elem.id)}>\n\n        <svg className={[\"card__favorite__img\", toggleActiveClass].join(\" \")} width=\"40\" height=\"37\" viewBox=\"0 0 40 37\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M20 36.7L17.1 34.06C6.8 24.72 0 18.56 0 11C0 4.84 4.84 0 11 0C14.48 0 17.82 1.62 20 4.18C22.18 1.62 25.52 0 29 0C35.16 0 40 4.84 40 11C40 18.56 33.2 24.72 22.9 34.08L20 36.7Z\" />\n        </svg>\n\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport {CatCard} from \"./CatCard\"\n\nimport '../styles/components/cat_all_page.scss'\n\nexport const CatCardList = function CatCardList(props) {\n  console.log('set', props.likeIds);\n  return (\n    <div className=\"card__container\">\n      {\n        props.catImages.map((elem) => {\n          return (\n            <CatCard\n              elem={elem}\n              isLike={props.likeIds.has(elem.id)}\n              key={elem.id}\n              onFavorite={props.onFavorite}\n            />\n\n          )\n        })\n      }\n    </div>\n  )\n}\n\n","import { createSlice } from '@reduxjs/toolkit'\n\nexport const cats = createSlice({\n  name: 'cats',\n  initialState: {\n    images: [],\n  },\n  reducers: {\n    setImages: (state, action) => {\n      state.images = action.payload.images;\n    },\n  }\n})\n\nexport const selectors = {\n  images: state => state.cats.images,\n};\n","import { createSlice } from '@reduxjs/toolkit'\n\nexport const likes = createSlice({\n  name: 'likes',\n  initialState: {\n    catLikes: {},\n  },\n  reducers: {\n    like: (state, action) => {\n      const catId = action.payload;\n      state.catLikes[catId] = true;\n    },\n    dislike: (state, action) => {\n      const catId = action.payload;\n      state.catLikes[catId] = false;\n    },\n    toggle: (state, action) => {\n      console.log(action);\n      const catId = action.payload;\n      const current = !!state.catLikes[catId];\n      state.catLikes[catId] = !current;\n    }\n  }\n})\n\nexport const selectors = {\n  likeIds: state => Object.keys(state.likes.catLikes).reduce((acc, catId) => {\n    if (!!state.likes.catLikes[catId]) return acc.concat(catId);\n\n    return acc;\n  }, []),\n};\n","import React from \"react\";\nimport { useSelector, useDispatch } from 'react-redux'\nimport axios from 'axios';\n\nimport { CatCardList } from \"../components/CatCardList\"\n\nimport { selectors as catSelectors, cats } from '../store/cats';\nimport { selectors as likeSelectors, likes } from '../store/likes';\n\nimport '../styles/components/cat_all_page.scss'\n\nexport const AllCatsPage = function AllCatsPage() {\n  const dispatch = useDispatch();\n  const images = useSelector(catSelectors.images);\n  const likeIds = useSelector(likeSelectors.likeIds);\n\n  React.useEffect(() => {\n    if (images.length !== 0) return;\n\n    const URL = \"https://api.thecatapi.com/v1/images/search?limit=100\"\n    axios.defaults.headers.common['x-api-key'] = \"53eeb490-fd74-453a-a80a-826d1cb66fae\"\n\n    axios.get(URL).then(res => {\n      dispatch(cats.actions.setImages({ images: res.data }));\n    })\n  }, [images]);\n\n  const onCatClick = React.useCallback((catId) => {\n    dispatch(likes.actions.toggle(catId));\n  }, []);\n\n  return (\n    <div>\n      <CatCardList\n        likeIds={new Set(likeIds)}\n        catImages={images}\n        onFavorite={onCatClick}\n      />\n    </div>\n  )\n}\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\"\n\nimport '../styles/components/header.scss'\n\nexport const CatHeader = function CatHeader() {\n  return (\n    <nav>\n      <div className=\"link__box\">\n        <NavLink\n          to=\"/\"\n          className=\"link__item\"\n          activeClassName=\"link__selected\"\n          exact\n        >  Все котики </NavLink>\n        <NavLink\n          to=\"/favorites\"\n          className=\"link__item\"\n          activeClassName=\"link__selected\"\n          exact\n        >  Любимые котики </NavLink>\n      </div>\n    </nav>\n  )\n}\n","import React, { useMemo } from \"react\";\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { CatCardList } from '../components/CatCardList'\n\nimport { selectors as likeSelectors, likes } from '../store/likes';\nimport { selectors as catSelectors } from '../store/cats';\nimport '../styles/components/cat_all_page.scss'\n\nexport const FavoriteCatsPage = function FavoriteCatsPage() {\n\n  const likeElem = useSelector(catSelectors.images);\n\n  const dispatch = useDispatch();\n  const likeIds = useSelector(likeSelectors.likeIds);\n  console.log('likes', likeIds);\n\n  const onDislike = React.useCallback((catId) => {\n    dispatch(likes.actions.toggle(catId));\n  }, []);\n\n  const likeIdsSet = new Set(likeIds)\n\n  const likedImages = useMemo(() => likeElem.filter((elem) => {\n    return likeIdsSet.has(elem.id)\n  }), [])\n\n  return (\n    <div>\n      <CatCardList\n        likeIds={likeIdsSet}\n        catImages={likedImages}\n        onFavorite={onDislike}\n      />\n\n    </div>\n  )\n}\n","import React from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\"\n\nimport {AllCatsPage} from './page/AllCatsPage'\nimport {CatHeader} from './components/CatHeader'\nimport {FavoriteCatsPage} from './page/FavoriteCatsPage'\n\n\nfunction App() {\n  return (\n    <div>\n        <BrowserRouter basename=\"/frontend-challenge.github.io\">\n          <CatHeader />\n\n          <Switch>\n            <Route exact path=\"/\" component={AllCatsPage} />\n            <Route exact path=\"/favorites\" component={FavoriteCatsPage} />\n          </Switch>\n        </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit';\n\nimport { cats } from './cats';\nimport { likes } from './likes';\n\nconst store = configureStore({\n  reducer: {\n    cats: cats.reducer,\n    likes: likes.reducer,\n  }\n})\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\n\nimport App from './App';\nimport store from './store'\n\nimport './index.css';\n\nReactDOM.render(\n  <Provider store={ store }>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}