(this["webpackJsonpnew-cat"]=this["webpackJsonpnew-cat"]||[]).push([[0],{18:function(e,t,c){},63:function(e,t,c){},65:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),i=c(15),s=c.n(i),r=c(10),o=c(14),l=c(3),j=c(20),d=c.n(j),b=(c(63),c(1)),u=function(e){var t=e.isLike?"card__favorite__active":"";return Object(b.jsxs)("div",{className:"card__box card__box__active",children:[Object(b.jsx)("img",{className:"card__item",src:e.elem.url,alt:""}),Object(b.jsx)("div",{className:"card__favorite",onClick:function(){return e.onFavorite(e.elem.id)},children:Object(b.jsx)("svg",{className:["card__favorite__img",t].join(" "),width:"40",height:"37",viewBox:"0 0 40 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(b.jsx)("path",{d:"M20 36.7L17.1 34.06C6.8 24.72 0 18.56 0 11C0 4.84 4.84 0 11 0C14.48 0 17.82 1.62 20 4.18C22.18 1.62 25.52 0 29 0C35.16 0 40 4.84 40 11C40 18.56 33.2 24.72 22.9 34.08L20 36.7Z"})})})]})},m=(c(18),function(e){return console.log("set",e.likeIds),Object(b.jsx)("div",{className:"card__container",children:e.catImages.map((function(t){return Object(b.jsx)(u,{elem:t,isLike:e.likeIds.has(t.id),onFavorite:e.onFavorite},t.id)}))})}),f=c(12),v=Object(f.b)({name:"cats",initialState:{images:[]},reducers:{setImages:function(e,t){e.images=t.payload.images}}}),O=function(e){return e.cats.images},h=c(34),x=Object(f.b)({name:"likes",initialState:{catLikes:{}},reducers:{toggle:function(e,t){var c=t.payload,a=!!e.catLikes[c];e.catLikes[c]=!a}}}),_=function(e){return Object.keys(e.likes.catLikes).reduce((function(t,c){return e.likes.catLikes[c]?[].concat(Object(h.a)(t),[c]):t}),[])},g=function(){var e=Object(r.b)(),t=Object(r.c)(O),c=Object(r.c)(_);n.a.useEffect((function(){if(0===t.length){d.a.defaults.headers.common["x-api-key"]="53eeb490-fd74-453a-a80a-826d1cb66fae",d.a.get("https://api.thecatapi.com/v1/images/search?limit=100").then((function(t){e(v.actions.setImages({images:t.data}))}))}}),[t]);var a=n.a.useCallback((function(t){e(x.actions.toggle(t))}),[]);return Object(b.jsx)("div",{children:Object(b.jsx)(m,{likeIds:new Set(c),catImages:t,onFavorite:a})})},k=(c(65),function(){return Object(b.jsx)("nav",{children:Object(b.jsxs)("div",{className:"link__box",children:[Object(b.jsx)(o.b,{to:"/",className:"link__item",activeClassName:"link__selected",exact:!0,children:"  \u0412\u0441\u0435 \u043a\u043e\u0442\u0438\u043a\u0438 "}),Object(b.jsx)(o.b,{to:"/favorites",className:"link__item",activeClassName:"link__selected",exact:!0,children:"  \u041b\u044e\u0431\u0438\u043c\u044b\u0435 \u043a\u043e\u0442\u0438\u043a\u0438 "})]})})}),p=function(){var e=Object(r.c)(O),t=Object(r.b)(),c=Object(r.c)(_);console.log("likes",c);var n=Object(a.useCallback)((function(e){t(x.actions.toggle(e))}),[]),i=new Set(c),s=Object(a.useMemo)((function(){return e.filter((function(e){return i.has(e.id)}))}),[]);return Object(b.jsx)("div",{children:s.length?Object(b.jsx)("div",{children:Object(b.jsx)(m,{likeIds:i,catImages:s,onFavorite:n})}):Object(b.jsx)("div",{className:"no-favorite__container",children:Object(b.jsx)("div",{className:"no-favorite__cats",children:" \u041d\u0435\u0442 \u043b\u044e\u0431\u0438\u043c\u044b\u0445 \u043a\u043e\u0442\u0438\u043a\u043e\u0432? "})})})};var w=function(){return Object(b.jsx)("div",{children:Object(b.jsxs)(o.a,{basename:"/frontend-challenge.github.io",children:[Object(b.jsx)(k,{}),Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{exact:!0,path:"/",component:g}),Object(b.jsx)(l.a,{exact:!0,path:"/favorites",component:p})]})]})})};console.log("cats",v);var N=Object(f.a)({reducer:{cats:v.reducer,likes:x.reducer}});c(69);s.a.render(Object(b.jsx)(r.a,{store:N,children:Object(b.jsx)(w,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.f6f67759.chunk.js.map