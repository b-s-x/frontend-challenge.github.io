(this["webpackJsonpnew-cat"]=this["webpackJsonpnew-cat"]||[]).push([[0],{18:function(e,t,c){},62:function(e,t,c){},64:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){"use strict";c.r(t);var a=c(0),i=c.n(a),n=c(15),s=c.n(n),r=c(10),o=c(14),l=c(3),d=c(20),j=c.n(d),u=(c(62),c(1)),b=function(e){var t=e.isLike?"card__favorite__active":"";return Object(u.jsxs)("div",{className:"card__box card__box__active",children:[Object(u.jsx)("img",{className:"card__item",src:e.elem.url,alt:""}),Object(u.jsx)("div",{className:"card__favorite",onClick:function(){return e.onFavorite(e.elem.id)},children:Object(u.jsx)("svg",{className:["card__favorite__img",t].join(" "),width:"40",height:"37",viewBox:"0 0 40 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{d:"M20 36.7L17.1 34.06C6.8 24.72 0 18.56 0 11C0 4.84 4.84 0 11 0C14.48 0 17.82 1.62 20 4.18C22.18 1.62 25.52 0 29 0C35.16 0 40 4.84 40 11C40 18.56 33.2 24.72 22.9 34.08L20 36.7Z"})})})]})},m=(c(18),function(e){return console.log("set",e.likeIds),Object(u.jsx)("div",{className:"card__container",children:e.catImages.map((function(t){return Object(u.jsx)(b,{elem:t,isLike:e.likeIds.has(t.id),onFavorite:e.onFavorite},t.id)}))})}),f=c(12),v=Object(f.b)({name:"cats",initialState:{images:[]},reducers:{setImages:function(e,t){e.images=t.payload.images}}}),h=function(e){return e.cats.images},O=Object(f.b)({name:"likes",initialState:{catLikes:{}},reducers:{like:function(e,t){var c=t.payload;e.catLikes[c]=!0},dislike:function(e,t){var c=t.payload;e.catLikes[c]=!1},toggle:function(e,t){console.log(t);var c=t.payload,a=!!e.catLikes[c];e.catLikes[c]=!a}}}),x=function(e){return Object.keys(e.likes.catLikes).reduce((function(t,c){return e.likes.catLikes[c]?t.concat(c):t}),[])},k=function(){var e=Object(r.b)(),t=Object(r.c)(h),c=Object(r.c)(x);i.a.useEffect((function(){if(0===t.length){j.a.defaults.headers.common["x-api-key"]="53eeb490-fd74-453a-a80a-826d1cb66fae",j.a.get("https://api.thecatapi.com/v1/images/search?limit=100").then((function(t){e(v.actions.setImages({images:t.data}))}))}}),[t]);var a=i.a.useCallback((function(t){e(O.actions.toggle(t))}),[]);return Object(u.jsx)("div",{children:Object(u.jsx)(m,{likeIds:new Set(c),catImages:t,onFavorite:a})})},g=(c(64),function(){return Object(u.jsx)("nav",{children:Object(u.jsxs)("div",{className:"link__box",children:[Object(u.jsx)(o.b,{to:"/",className:"link__item",activeClassName:"link__selected",exact:!0,children:"  \u0412\u0441\u0435 \u043a\u043e\u0442\u0438\u043a\u0438 "}),Object(u.jsx)(o.b,{to:"/favorites",className:"link__item",activeClassName:"link__selected",exact:!0,children:"  \u041b\u044e\u0431\u0438\u043c\u044b\u0435 \u043a\u043e\u0442\u0438\u043a\u0438 "})]})})}),_=function(){var e=Object(r.c)(h),t=Object(r.b)(),c=Object(r.c)(x);console.log("likes",c);var n=i.a.useCallback((function(e){t(O.actions.toggle(e))}),[]),s=new Set(c),o=Object(a.useMemo)((function(){return e.filter((function(e){return s.has(e.id)}))}),[]);return Object(u.jsx)("div",{children:Object(u.jsx)(m,{likeIds:s,catImages:o,onFavorite:n})})};var p=function(){return Object(u.jsx)("div",{children:Object(u.jsxs)(o.a,{basename:"/frontend-challenge.github.io",children:[Object(u.jsx)(g,{}),Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{exact:!0,path:"/",component:k}),Object(u.jsx)(l.a,{exact:!0,path:"/favorites",component:_})]})]})})},w=Object(f.a)({reducer:{cats:v.reducer,likes:O.reducer}});c(68);s.a.render(Object(u.jsx)(r.a,{store:w,children:Object(u.jsx)(p,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.c8c1454e.chunk.js.map